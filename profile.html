<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Profile â€” GreenWrite</title>
  <meta name="description" content="GreenWrite profile â€” Login and manage your account." />
  <meta name="theme-color" content="#2e7d32" />
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <!-- Header (same style as index) -->
  <header class="site-header">
    <div class="header-inner container">
      <div class="brand">
        <button id="menuBtn" class="hamburger" aria-label="Open menu" aria-expanded="false">
          <span class="hb-bar"></span><span class="hb-bar"></span><span class="hb-bar"></span>
        </button>

        <img src="logo.png" alt="GreenWrite logo" class="brand-logo" />
        <div>
          <h1 class="site-title">GreenWrite</h1>
          <div class="tagline">Plantable Pens & Pencils â€” <span id="typedTextSmall">Write your future.</span><span class="typed-cursor"></span></div>
        </div>
      </div>

      <nav class="main-nav" aria-label="Main navigation">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="products.html">Products</a>
        <a href="gallery.html">Gallery</a>
        <a href="contact.html">Contact</a>
        <a href="profile.html">Profile</a>
      </nav>

      <div class="tools">
        <!-- you can hide profile icon here if you want, but it's okay to keep -->
        <button id="profileBtn" class="icon-btn" aria-label="Profile">ðŸ‘¤</button>
        <button id="cartBtn" class="icon-btn" aria-label="View cart">
          ðŸ›’ <span id="cartCount" class="cart-count">0</span>
        </button>
        <button id="darkToggle" class="icon-btn" aria-label="Toggle dark mode">ðŸŒ“</button>
        <a id="waFloat" class="whats-float desktop-only" href="https://wa.me/584161689126" target="_blank" aria-label="WhatsApp">ðŸ’¬</a>
      </div>
    </div>

    <!-- mobile slide-in menu -->
    <div id="mobileMenu" class="mobile-menu" aria-hidden="true">
      <div class="mobile-menu-inner">
        <nav class="mobile-nav" aria-label="Mobile navigation">
          <a href="index.html">Home</a>
          <a href="about.html">About</a>
          <a href="products.html">Products</a>
          <a href="gallery.html">Gallery</a>
          <a href="contact.html">Contact</a>
          <a href="profile.html">Profile</a>
        </nav>
        <div class="mobile-actions">
          <button id="mobileDarkToggle" class="btn secondary">Toggle Dark</button>
          <a href="https://wa.me/584161689126" class="btn" target="_blank">WhatsApp</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main content -->
  <main class="container">
    <section class="card fade-in" style="max-width:640px;margin:24px auto">
      <h2>Profile / Login</h2>
      <p class="small" style="margin-top:6px">
        Sign in with Google or your phone number.
      </p>

      <!-- Status text -->
      <p id="authStatus" class="small" style="margin-top:8px;color:var(--muted)">
        Not logged in.
      </p>

      <!-- Login / signup box -->
      <div id="loginBox" style="margin-top:12px;display:flex;flex-direction:column;gap:12px">
        <button id="googleBtn" class="btn" type="button">Continue with Google</button>

        <div style="border-top:1px solid rgba(0,0,0,0.06);margin:8px 0"></div>

        <div>
          <label class="small" for="phoneInput">Phone number (with country code, e.g. +91â€¦)</label>
          <input id="phoneInput" type="tel" placeholder="+91 XXXXXXXXX" style="width:100%;padding:10px;margin-top:4px;border-radius:8px;border:1px solid #dcdcdc" />
          <button id="sendOtpBtn" class="btn secondary" type="button" style="margin-top:8px;width:100%">Send OTP</button>
        </div>

        <div id="otpBox" style="display:none">
          <label class="small" for="otpInput">Enter OTP</label>
          <input id="otpInput" type="text" placeholder="6-digit code" style="width:100%;padding:10px;margin-top:4px;border-radius:8px;border:1px solid #dcdcdc" />
          <button id="verifyOtpBtn" class="btn" type="button" style="margin-top:8px;width:100%">Verify OTP</button>
        </div>

        <!-- reCAPTCHA container required by Firebase phone auth -->
        <div id="recaptcha-container" style="margin-top:8px;font-size:0.8rem;color:var(--muted)"></div>
      </div>

      <!-- Logged-in user info -->
      <div id="userBox" style="display:none;margin-top:16px;padding-top:10px;border-top:1px solid rgba(0,0,0,0.06)">
        <h3 style="margin:0 0 6px">Your Profile</h3>
        <p class="small"><strong>Name:</strong> <span id="uName">-</span></p>
        <p class="small"><strong>Email:</strong> <span id="uEmail">-</span></p>
        <p class="small"><strong>Phone:</strong> <span id="uPhone">-</span></p>
        <p class="small" style="word-break:break-all"><strong>UID:</strong> <span id="uUid">-</span></p>

        <button id="logoutBtn" class="btn secondary" type="button" style="margin-top:10px">Log out</button>
      </div>

      <!-- Error box -->
      <p id="authError" class="small" style="margin-top:10px;color:#b00020;display:none"></p>
    </section>

    <footer style="margin-top:18px;display:flex;justify-content:space-between;align-items:center;gap:12px">
      <p style="color:var(--muted)">Made by Team GreenWrite â€” Class 11. Write your future. Grow your planet.</p>
      <p style="margin:0;font-size:0.95rem;color:var(--muted)">Website created by <strong>Bharat</strong> â€” Team GreenWrite</p>
    </footer>
  </main>

  <!-- back to top -->
  <button id="topBtn" class="top-btn" aria-label="Back to top">â†‘</button>

  <!-- floating WhatsApp -->
  <a id="waFloatBottom" class="whats-float" href="https://wa.me/584161689126" target="_blank" aria-label="WhatsApp">ðŸ’¬</a>

  <!-- shared UI script (header, dark mode, etc.) -->
  <script src="assets/js/script.js"></script>

  <!-- Firebase Auth for this page -->
  <script type="module" src="assets/js/profile.js"></script>
</body>
</html>
